---
title: Добавить иерархию узлов и поделиться геометрическими данными сетки между несколькими узлами сцены 3D
type: docs
weight: 20
url: /ru/java/add-node-hierarchy-and-share-geometric-data-of-mesh-among-multiple-nodes-of-3d-scene/
description: Aspose.3D for Java поддерживает построение иерархии узлов. Узел является базовым строительным блоком сцены 3D, а иерархия узлов определяет логическую структуру сцены 3D и обеспечивает видимый контент путем присоединения к узлам геометрии, источников света и камер.
---
##  **Добавить иерархию узлов в документе сцены 3D**
Aspose.3D for Java поддерживает построение иерархии узлов. `Node` является базовым строительным блоком сцены 3D, а иерархия узлов определяет логическую структуру сцены 3D и обеспечивает видимый контент путем присоединения к узлам геометрии, источников света и камер.
###  **Пример графов сцены**

В Aspose.3D каждый экземпляр `Node` может иметь несколько дочерних узлов, в этом примере мы создали узел с двумя кубическими узлами, если мы повернем корневой узел, все дочерние узлы также будут затронуты:

{{< gist "aspose-3d-gists" "50e7f479a64956c0bf78841c0799ba76" "aspose-3d-src-examples-geometry-AddNodeHierarchy.java" >}}
##  **Поделитесь данными геометрии Mesh между несколькими узлами**
Чтобы уменьшить потребность в памяти, один экземпляр класса `Mesh` может быть привязан к различным экземплярам класса `Node`. Предположим, что вам нужна система, в которой все кубики 3D кажутся неразличимыми, но вам требуется большое количество из них. Вы можете сэкономить память, сделав один объект Mesh при старте системы. В этот момент каждый раз, когда вам нужна другая форма, вы делаете другой объект Node, а затем указываете этот узел на один `Mesh`. Это называется инстанцирование. Aspose.3D for Java API позволяют выполнять инстансирование.
###  **Пример установки**
В таких играх, как RTS (стратегия в реальном времени), мы всегда можем увидеть несколько NPC (Non-Player Character) с одной и той же моделью 3D, возможно, в разных цветах, движок рендеринга обычно разделяет одни и те же данные геометрии сетки между разными NPC, этот метод называется Instancing.

{{% alert color="primary" %}} 

В коде используется объект класса `Mesh`. Мы можем [Создать объект класса Mesh, как там рассказано](https://docs.dynabic.com/display/3djava/Create+3D+Mesh+and+Scene).

{{% /alert %}} 

Демонстрация кода примера:

{{< gist "aspose-3d-gists" "50e7f479a64956c0bf78841c0799ba76" "aspose-3d-src-examples-geometry-ShareMeshGeometryData.java" >}}


В этом примере мы создали 3 кубических узла, которые имеют одну и ту же сетку, каждый из них имеет разный материал с разными цветами.
